<!DOCTYPE html>
<html lang="es">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Hoja de Vida - Miguel Lizarazo Calderón</title>
    <link rel="stylesheet" href="styles.css">

    <!-- Metaetiquetas para redes sociales -->
    <meta property="og:title" content="Miguel Lizarazo CV">
    <meta property="og:description" content="Miguel Lizarazo CV">
    <meta property="og:image" content="https://miguelizarazo.github.io/CV/images/perfil.jpg">
    <meta property="og:url" content="https://miguelizarazo.github.io/CV/index.html">
    <meta property="og:type" content="article">
    
    <!-- Google tag (gtag.js) -->
    <script async src="https://www.googletagmanager.com/gtag/js?id=G-R9HPX4FB2L"></script>
    <script>
      window.dataLayer = window.dataLayer || [];
      function gtag(){dataLayer.push(arguments);}
      gtag('js', new Date());    
      gtag('config', 'G-R9HPX4FB2L');
    </script>
</head>
<body>
    <header>
        <div class="container">
            <img src="images/perfil.jpg" alt="Foto de perfil" class="profile-img">
            <h1>Miguel Lizarazo Calderón</h1>
            <p>PhD(c) Geociencias | MSc Geofísica</p>
            <p>Geólogo | Lc. Física</p>
            <p>Telefono: (+57) 3123658571</p>
            <p>e-mail: migueldefx@gmail.com</p>
        </div>
    </header>

    <nav>
        <ul>
            <li><a href="index.html#perfil">Perfil Profesional</a></li>
            <li><a href="formacion.html#formacion">Formación Académica</a></li>
            <li><a href="experiencia.html#experiencia">Experiencia Laboral</a></li>
            <li><a href="docencia.html#docencia">Experiencia Docente</a></li>
            <li><a href="habilidades.html#habilidades">Habilidades</a></li>
            <li><a href="publicaciones.html#publicaciones">Publicaciones</a></li>
            <li><a href="contacto.html#contacto">Contacto</a></li>
        </ul>
    </nav>

    <section id="perfil" class="container">
        <h2>Perfil Profesional</h2>
        <p>
            Doctor(C) en Geociencias, Magíster en Geofísica, con doble titulación en Geología y Licenciatura en Física. Con sólida experiencia en investigación aplicada a la sismicidad inducida y volcánica, relocalización de eventos sísmicos y análisis de deformación superficial mediante Interferometría de Radar de Apertura Sintética (InSAR). 
        </p>
        <p>
            Competencia técnica en el diseño, monitoreo y procesamiento de redes sismológicas, así como en la interpretación de datos magnetotelúricos, geoeléctricos, gravimétricos y magnetométricos. Experiencia en redacción técnica y científica. Dominio avanzado de Python, Matlab y software especializado para análisis sísmico y geofísico. 
        </p>
        <p>
            Experiencia docente en programas de pregrado y posgrado en Geofísica, Geología, Física y Matemáticas.
        </p>        
         <!-- Botón para descargar CV -->
        <p><a href="docs/Miguel_Lizarazo_CV.pdf" download="Miguel_Lizarazo_CV.pdf" class="download-link">Descargar mi CV en PDF</a></p> 
        <!-- Botón para ver el perfil de LinkedIn -->
        <p><a href="https://www.linkedin.com/in/miguel-lizarazo-calderon-238b50b8?utm_source=share&utm_campaign=share_via&utm_content=profile&utm_medium=android_app" target="_blank" class="linkedin-button">Ver mi perfil en LinkedIn</a></p>    
    </section>   

    <footer>
        <p>&copy; 2025 Miguel Lizarazo Calderón. Todos los derechos reservados.</p>
    </footer>

    <!-- Script para obtener la ubicación y enviarla al backend -->
    <script>
        // Función para obtener la IP del visitante
        async function obtenerIP() {
            try {
                console.log("Obteniendo la IP...");
                const response = await fetch('https://api.ipify.org?format=json');
                if (!response.ok) {
                    throw new Error(`Error al obtener la IP: ${response.statusText}`);
                }
                const data = await response.json();
                console.log("IP obtenida:", data.ip);
                return data.ip;
            } catch (error) {
                console.error("Error al obtener la IP:", error);
                return null;
            }
        }

        // Función para enviar los datos al backend
        async function enviarDatosAlBackend(ip) {
            try {
                console.log("Enviando datos al backend...");
                const url = https://script.googleapis.com/v1/scripts/AKfycbyyU17lF19_zr-zasXJk2TzKiM6HUEqQFFeMqeiKgPS53IM_OD43JHWUD2mEgN6cBm3:run'; // Reemplaza con la URL de tu script
                const response = await fetch(url, {
                    method: 'POST',
                    headers: { 'Content-Type': 'application/json' },
                    body: JSON.stringify({ ip: ip })
                });
                if (!response.ok) {
                    throw new Error(`Error al enviar datos al backend: ${response.statusText}`);
                }
                const data = await response.text();
                console.log("Respuesta del backend:", data);
            } catch (error) {
                console.error("Error al enviar datos al backend:", error);
            }
        }

        // Función principal
        async function main() {
            try {
                const ip = await obtenerIP();
                if (ip) {
                    await enviarDatosAlBackend(ip);
                }
            } catch (error) {
                console.error("Error en la función principal:", error);
            }
        }

        // Ejecutar la función principal
        console.log("Script cargado correctamente");
        main();
    </script>
</body>
</html>
